<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Staff Complaint Management System</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar hidden" id="main-navbar">
      <div class="logo">QC Express Complaints</div>
      <ul class="nav-links">
        <li><a onclick="showSection('dashboard')">Dashboard</a></li>
        <li><a onclick="showSection('file-complaint')">File Complaint</a></li>
        <li><a onclick="showSection('complaint-list')">Complaints</a></li>
        <li><a onclick="showSection('profile')">Profile</a></li>
        <li><a onclick="logout()">Log out</a></li>
      </ul>
    </nav>

    <!-- Login Section -->
    <section id="login-section" class="auth-section">
      <div class="auth-container">
        <h2>Staff Login</h2>
        <form onsubmit="handleLogin(event)">
          <div class="form-group">
            <label for="login-username">Company Email or Username</label>
            <input type="text" id="login-username" required />
          </div>
          <div class="form-group">
            <label for="login-password">Password</label>
            <input type="password" id="login-password" required />
          </div>
          <button type="submit" class="btn" style="width: 100%">Login</button>
        </form>
        <p style="text-align: center; margin-top: 1rem">
          Don't have an account?
          <a
            href="javascript:void(0)"
            onclick="showSection('signup')"
            style="color: var(--primary-blue)"
            >Sign Up</a
          >
        </p>
        <p style="text-align: center">
          <a
            href="javascript:void(0)"
            onclick="showSection('admin-login')"
            style="color: var(--primary-blue)"
            >Login as Admin</a
          >
        </p>
      </div>
    </section>

    <!-- Signup Section -->
    <section id="signup-section" class="auth-section hidden">
      <div class="auth-container">
        <h2>Staff Registration</h2>
        <form onsubmit="handleSignup(event)">
          <div class="form-group">
            <label for="signup-name">Full Name</label>
            <input type="text" id="signup-name" required />
          </div>
          <div class="form-group">
            <label for="signup-email">Company Email</label>
            <input type="email" id="signup-email" required />
          </div>
          <div class="form-group">
            <label for="signup-username">Username</label>
            <input type="text" id="signup-username" required />
          </div>
          <div class="form-group">
            <label for="signup-password">Password</label>
            <input type="password" id="signup-password" required />
          </div>
          <div class="form-group">
            <label for="confirm-password">Confirm Password</label>
            <input type="password" id="confirm-password" required />
          </div>
          <button type="submit" class="btn" style="width: 100%">Sign Up</button>
        </form>
        <p style="text-align: center; margin-top: 1rem">
          Already have an account?
          <a
            href="javascript:void(0)"
            onclick="showSection('login')"
            style="color: var(--primary-blue)"
            >Login</a
          >
        </p>
      </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard-section" class="section hidden">
      <h1>Dashboard</h1>
      <div class="dashboard-welcome">
        <h3>Welcome back, <span id="user-name">Staff Member</span>!</h3>
        <p>
          Here's an overview of your complaint activity and company updates.
        </p>
      </div>

      <div class="status-cards">
        <div class="status-card pending">
          <h3 id="pending-count">0</h3>
          <p>Pending</p>
        </div>
        <div class="status-card in-progress">
          <h3 id="progress-count">0</h3>
          <p>In Progress</p>
        </div>
        <div class="status-card resolved">
          <h3 id="resolved-count">0</h3>
          <p>Resolved</p>
        </div>
      </div>

      <div class="dashboard-grid">
        <div class="dashboard-card">
          <h4>Quick Actions</h4>
          <button
            class="btn"
            onclick="showSection('file-complaint')"
            style="margin-right: 1rem"
          >
            File New Complaint
          </button>
          <button
            class="btn btn-secondary"
            onclick="showSection('complaint-list')"
          >
            View All Complaints
          </button>
        </div>

        <div class="dashboard-card">
          <h4>Summary Statistics</h4>
          <ul style="list-style: none; padding: 0">
            <li>Total Complaints: <strong id="total-complaints">0</strong></li>
            <li>Avg. Resolution Time: <strong>3.2 days</strong></li>
            <li>Most Frequent Category: <strong>Technical</strong></li>
          </ul>
        </div>

        <div class="dashboard-card">
          <h4>Notifications</h4>
          <ul style="list-style: none; padding: 0; font-size: 14px">
            <li>â€¢ System maintenance scheduled for Friday 8pm</li>
            <li>â€¢ New complaint category added: Technical</li>
            <li>â€¢ Resolved complaints now show resolution time</li>
          </ul>
        </div>
      </div>

      <div class="dashboard-card">
        <h4>Recent Activity</h4>
        <div id="recent-complaints"></div>
      </div>
    </section>

    <!-- File Complaint Section -->
    <section id="file-complaint-section" class="section hidden">
      <h1>File New Complaint</h1>
      <div class="form-container">
        <form onsubmit="handleComplaintSubmission(event)">
          <div class="form-group">
            <label for="complaint-title">Complaint Title</label>
            <input type="text" id="complaint-title" required />
          </div>
          <div class="form-group">
            <label for="complaint-category">Category</label>
            <select id="complaint-category" required>
              <option value="">Select Category</option>
              <option value="Delivery">Delivery</option>
              <option value="Services">Services</option>
              <option value="Technical">Technical</option>
              <option value="Maintenance">Maintenance</option>
            </select>
          </div>
          <div class="form-group">
            <label for="complaint-description">Description</label>
            <textarea
              id="complaint-description"
              required
              placeholder="Please describe your complaint in detail..."
            ></textarea>
          </div>
          <div class="form-group">
            <label for="complaint-attachment">Attach Image (Optional)</label>
            <input type="file" id="complaint-attachment" accept="image/*" />
          </div>
          <button type="submit" class="btn">Submit Complaint</button>
        </form>
      </div>
    </section>

    <!-- Complaint List Section -->
    <section id="complaint-list-section" class="section hidden">
      <h1>All Complaints</h1>
      <div class="filters">
        <button class="filter-btn active" onclick="filterComplaints('all')">
          All
        </button>
        <button class="filter-btn" onclick="filterComplaints('pending')">
          Pending
        </button>
        <button class="filter-btn" onclick="filterComplaints('in-progress')">
          In Progress
        </button>
        <button class="filter-btn" onclick="filterComplaints('resolved')">
          Resolved
        </button>
      </div>
      <ul class="complaint-list" id="complaint-list"></ul>
    </section>

    <!-- Complaint Details Section -->
    <section id="complaint-details-section" class="section hidden">
      <h1>Complaint Details</h1>
      <div id="complaint-info"></div>
      <div class="comments-section">
        <h3>Updates / Comments</h3>
        <div id="comments-list"></div>
        <div class="form-group" style="margin-top: 1rem">
          <label for="new-comment">Add a comment</label>
          <textarea id="new-comment" placeholder="Add a comment..."></textarea>
          <button class="btn" onclick="addComment()" style="margin-top: 0.5rem">
            Add Comment
          </button>
        </div>
      </div>
      <button
        class="btn btn-secondary"
        onclick="showSection('complaint-list')"
        style="margin-top: 1rem"
      >
        Back to List
      </button>
    </section>

    <!-- Profile Section -->
    <section id="profile-section" class="section hidden">
      <h1>Profile</h1>
      <div class="form-container">
        <div style="text-align: center; margin-bottom: 2rem">
          <img
            id="profile-image"
            src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23e5e7eb'/%3E%3Ctext x='50' y='55' text-anchor='middle' font-size='30' fill='%23374151'%3EðŸ‘¤%3C/text%3E%3C/svg%3E"
            alt="Profile"
            class="profile-pic"
          />
          <br />
          <input
            type="file"
            id="profile-pic-input"
            accept="image/*"
            style="display: none"
          />
          <button
            class="btn btn-secondary"
            onclick="document.getElementById('profile-pic-input').click()"
            style="margin-top: 1rem"
          >
            Change Photo
          </button>
        </div>

        <form onsubmit="handleProfileUpdate(event)">
          <div class="form-group">
            <label for="profile-name">Full Name</label>
            <input type="text" id="profile-name" value="John Doe" />
          </div>
          <div class="form-group">
            <label for="profile-email">Email</label>
            <input
              type="email"
              id="profile-email"
              value="john.doe@qcexpress.com"
            />
          </div>
          <div class="form-group">
            <label for="profile-phone">Phone Number</label>
            <input type="tel" id="profile-phone" value="+1234567890" />
          </div>
          <div class="form-group">
            <label for="profile-position">Position</label>
            <input type="text" id="profile-position" value="Staff Member" />
          </div>
          <button type="submit" class="btn">Save Changes</button>
        </form>
      </div>
    </section>

    <!-- Admin Login Section -->
    <section id="admin-login-section" class="auth-section hidden">
      <div class="auth-container">
        <h2>Admin Login</h2>
        <form onsubmit="handleAdminLogin(event)">
          <div class="form-group">
            <label for="admin-email">Admin Email</label>
            <input type="email" id="admin-email" required />
          </div>
          <div class="form-group">
            <label for="admin-password">Password</label>
            <input type="password" id="admin-password" required />
          </div>
          <button type="submit" class="btn admin-btn" style="width: 100%">
            Login as Admin
          </button>
        </form>
        <p style="text-align: center; margin-top: 1rem">
          <a
            href="javascript:void(0)"
            onclick="showSection('login')"
            style="color: var(--lilac)"
            >Back to Staff Login</a
          >
        </p>
      </div>
    </section>

    <!-- Admin Dashboard Section -->
    <section id="admin-dashboard-section" class="section hidden">
      <h1 class="admin-title">Admin Dashboard</h1>

      <ul class="admin-nav">
        <li onclick="showSection('admin-dashboard')">Dashboard</li>
        <li onclick="showSection('admin-complaints')">Manage Complaints</li>
        <li onclick="showSection('admin-users')">Manage Users</li>
        <li onclick="logout()">Logout</li>
      </ul>

      <div class="admin-cards">
        <div class="admin-card">
          <h3>128</h3>
          <p>Total Complaints</p>
        </div>
        <div class="admin-card">
          <h3>37</h3>
          <p>Pending</p>
        </div>
        <div class="admin-card">
          <h3>58</h3>
          <p>In Progress</p>
        </div>
        <div class="admin-card">
          <h3>33</h3>
          <p>Resolved</p>
        </div>
      </div>

      <div class="notification-badge">ðŸ”” 3 New Notifications</div>
    </section>

    <!-- Admin Complaints Section -->
    <section id="admin-complaints-section" class="section hidden">
      <h1 class="admin-title">Manage Complaints</h1>

      <div class="filters">
        <button
          class="filter-btn active"
          onclick="filterAdminComplaints('all')"
        >
          All Complaints
        </button>
        <button class="filter-btn" onclick="filterAdminComplaints('pending')">
          Pending
        </button>
        <button
          class="filter-btn"
          onclick="filterAdminComplaints('in-progress')"
        >
          In Progress
        </button>
        <button class="filter-btn" onclick="filterAdminComplaints('resolved')">
          Resolved
        </button>
      </div>

      <div id="admin-complaint-list">
        <div class="complaint-item">
          <div class="complaint-header">
            <div>
              <h4 class="complaint-title">Delivery Delay Issue</h4>
              <div class="complaint-meta">
                <span>ID: #001</span>
                <span>User: john.doe@qcexpress.com</span>
                <span>Category: Delivery</span>
                <span>Date: 2024-01-15</span>
              </div>
            </div>
            <span class="badge pending">Pending</span>
          </div>
          <p>
            Package was supposed to arrive yesterday but still hasn't been
            delivered...
          </p>
          <div style="margin-top: 1rem">
            <button class="btn btn-success" style="margin-right: 0.5rem">
              Mark as Resolved
            </button>
            <button class="btn btn-secondary">View Details</button>
          </div>
        </div>
      </div>

      <button
        class="btn btn-secondary"
        onclick="showSection('admin-dashboard')"
        style="margin-top: 1rem"
      >
        Back to Dashboard
      </button>
    </section>

    <!-- Admin Users Section -->
    <section id="admin-users-section" class="section hidden">
      <h1 class="admin-title">Manage Users</h1>
      <div class="dashboard-card">
        <h4>User Management</h4>
        <p>User management functionality coming soon...</p>
        <ul style="list-style: none; padding: 0">
          <li>â€¢ View all registered users</li>
          <li>â€¢ Edit user permissions</li>
          <li>â€¢ Deactivate/activate accounts</li>
          <li>â€¢ Generate user reports</li>
        </ul>
      </div>
      <button
        class="btn btn-secondary"
        onclick="showSection('admin-dashboard')"
      >
        Back to Dashboard
      </button>
    </section>

    <script src="script.js"></script>
  </body>
</html>
